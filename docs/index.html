<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‚¡ç¥¨æœŸè²¨ç›£æ§ç³»çµ±</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        .net-pos { color: #ff7676; font-weight: bold; } /* ä¸Šæ¼²/è²·è¶…æ¨™ç´… [cite: 9] */
        .net-neg { color: #52ff94; font-weight: bold; } /* ä¸‹è·Œ/è³£è¶…æ¨™ç¶  [cite: 10] */
        .card h3 { border-bottom: 1px solid #22334a; padding-bottom: 8px; margin-bottom: 12px; }
    </style>
</head>
<body class="wrap">
    <h1>ğŸ“Š è‚¡ç¥¨æœŸè²¨å¤§é¡äº¤æ˜“äººç›£æ§</h1>
    <p id="info" class="muted">è¼‰å…¥ä¸­...</p>
    <div id="grid" class="grid"></div>

    <script>
        async function fetchFutures() {
            try {
                const r = await fetch('./futures_data.json');
                const d = await r.json();
                document.getElementById('info').innerText = `æ›´æ–°æ—¥æœŸï¼š${d.date} (é€±ä¸€è‡³é€±äº”ç›¤å¾Œæ›´æ–°)`;
                
                document.getElementById('grid').innerHTML = d.items.map(it => {
                    const res = it.data;
                    if (res.error) return `<div class="card"><strong>${it.name}</strong><p class="bad">${res.error}</p></div>`;
                    
                    return `
                        <div class="card">
                            <h3>${it.name} (${it.ticker})</h3>
                            <p>å‰äº”å¤§æ·¨éƒ¨ä½ï¼š<span class="${res.top5.net >= 0 ? 'net-pos' : 'net-neg'}">${res.top5.net > 0 ? '+' : ''}${res.top5.net}</span></p>
                            <p>å‰åå¤§æ·¨éƒ¨ä½ï¼š<span class="${res.top10.net >= 0 ? 'net-pos' : 'net-neg'}">${res.top10.net > 0 ? '+' : ''}${res.top10.net}</span></p>
                            <div class="muted" style="font-size: 13px; margin-top: 10px;">
                                <p>äº”å¤§å¤šç©ºæ¯”ï¼š${res.top5.buy} / ${res.top5.sell}</p>
                                <p>åå¤§å¤šç©ºæ¯”ï¼š${res.top10.buy} / ${res.top10.sell}</p>
                                <p>å…¨é«”æœªå¹³å€‰é‡ï¼š${res.oi}</p>
                            </div>
                        </div>`;
                }).join('');
            } catch (e) {
                document.getElementById('info').innerText = "å°šæœªæœ‰ JSON è³‡æ–™ï¼Œè«‹æª¢æŸ¥ GitHub Actionsã€‚";
            }
        }
        fetchFutures();
    </script>
</body>
</html>
